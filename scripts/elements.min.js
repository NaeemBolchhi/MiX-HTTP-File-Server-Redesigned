function clearStyles(){let e=document.querySelectorAll("*[style]");for(let n=0;n<e.length;n++)e[n].removeAttribute("style")}function clearSpaces(){let e=document.querySelector("ul");e.innerHTML=e.innerHTML.replace(/\&nbsp\;/g,"")}function clearSlashes(){let e=document.querySelectorAll(".dirname");for(let n=0;n<e.length;n++)e[n].innerText=e[n].innerText.replace("/","")}function makeHeader(){let e=elemake("header",`<section class="main"><spread><span class="menu">${menuSVG}</span></spread></section><section class="sub"><spread></spread></section>`.replace(/>\s+/g,">").replace(/\s+</g,"<"),"");document.body.insertBefore(e,document.body.children[0]);let n=document.querySelector("header section.sub spread"),s=document.querySelector("header section.main spread"),a=document.querySelector(".directory"),t=document.querySelector(".deviceName");a.innerHTML='<a href="/"><i class="fa fa-home"></i>'+a.innerText.replace("/storage/emulated/0","").replace(/\//g,'</a><i class="fa fa-arrow-right"></i><a class="boxes">'),t.innerHTML="<span>"+t.innerHTML.replace("<br>","</span><span>")+"</span>",s.appendChild(a),n.appendChild(t);let i=s.querySelectorAll("a.boxes"),l="/";for(let e=0;e<i.length-1;e++)l=l+encodeURIComponent(i[e].innerText)+"/",i[e].setAttribute("href",l)}function makeNav(){let e="",n="";"dawn"===sessionStorage.cScheme?e=" active":n=" active",void 0===sessionStorage.folderActive&&(sessionStorage.folderActive=" active",sessionStorage.folderCSS="null"),void 0===sessionStorage.fileActive&&(sessionStorage.fileActive=" active",sessionStorage.fileCSS="null"),void 0===sessionStorage.device&&(/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)?(sessionStorage.device=" mobile",sessionStorage.deviceTxt="Mobile"):(sessionStorage.device=" pc",sessionStorage.deviceTxt="PC")),void 0===sessionStorage.playerChoice&&(sessionStorage.playerChoice=" mark-none",sessionStorage.playerTxt="None");let s=elemake("nav",`<sidebar><section class="theme"><btn class="dawn${e}"><i class="fa fa-dawn"></i></btn><btn class="dusk${n}"><i class="fa fa-dusk"></i></btn></section><section class="upload"><gbtn><btn class="select-files grow"><i class="fa fa-upload"></i><span>Select File to Upload</span></btn><btn class="send-files hide" style="--_percent: 0%"><i class="fa fa-tick"></i><i class="fa fa-send"></i><i class="fa fa-loading"></i><span class="keep-bg"></span></btn></gbtn></section><section class="config"><btn class="folder-view${sessionStorage.folderActive}"><i class="fa fa-folder"></i><span>Show Folders</span><i class="fa fa-tick"></i><style type="${sessionStorage.folderCSS}">section.directories li:not(.back-link) {display: none !important;}</style></btn><btn class="file-view${sessionStorage.fileActive}"><i class="fa fa-file"></i><span>Show Files</span><i class="fa fa-tick"></i><style type="${sessionStorage.fileCSS}">section.files {display: none !important;}</style></btn></section><section class="pplayer"><gbtn class="platform${sessionStorage.device} closed"><btn class="base"><i class="fa fa-platform"></i><span>Platform:</span><span class="holder">${sessionStorage.deviceTxt}</span><i class="fa fa-arrow-down"></i></btn><btn class="sel-mobile"><span>Mobile</span><i class="fa fa-tick"></i></btn><btn class="sel-pc"><span>PC</span><i class="fa fa-tick"></i></btn></gbtn><gbtn class="player${sessionStorage.device}${sessionStorage.playerChoice} closed"><btn class="base"><i class="fa fa-player"></i><span>Player:</span><span class="holder">${sessionStorage.playerTxt}</span><i class="fa fa-arrow-down"></i></btn><btn class="sel-none"><span>None</span><i class="fa fa-tick"></i></btn><btn class="sel-potplayer mhide"><span>PotPlayer</span><i class="fa fa-tick"></i></btn><btn class="sel-vlcplayer"><span>VLC Player</span><i class="fa fa-tick"></i></btn><btn class="sel-xplayer pchide"><span>XPlayer</span><i class="fa fa-tick"></i></btn><btn class="sel-mxplayer pchide"><span>MX Player</span><i class="fa fa-tick"></i></btn><btn class="sel-mxplayerpro pchide"><span>MX Player Pro</span><i class="fa fa-tick"></i></btn></gbtn></section></sidebar><backdrop></backdrop>`.replace(/>\s+/g,">").replace(/\s+</g,"<"),{key:["class"],val:["hide none"]});document.body.insertBefore(s,document.body.children[0])}function makePreview(){let e=elemake("preview",'<btn class="prev-image"><i class="fa fa-arrow-left"></i></btn><btn class="next-image"><i class="fa fa-arrow-right"></i></btn><img src="" alt="" title=""><curtains></curtains>'.replace(/>\s+/g,">").replace(/\s+</g,"<"),{key:["class"],val:["hide none"]});document.body.appendChild(e)}function moveContent(){let e=document.querySelector("#content"),n=document.querySelector("nav sidebar section.upload");n.appendChild(e),document.querySelector("#fil").value=""}function backlinkClass(){let e=document.querySelector("section.directories > li .dirname");".."===e.innerText&&e.parentNode.parentNode.classList.add("back-link")}clearStyles(),clearSpaces(),clearSlashes(),makeHeader(),makeNav(),makePreview(),moveContent(),backlinkClass();