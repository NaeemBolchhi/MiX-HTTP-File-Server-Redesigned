function clearStyles(){let e=document.querySelectorAll("*[style]");for(let n=0;n<e.length;n++)e[n].removeAttribute("style")}function clearSpaces(){let e=document.querySelector("ul");e.innerHTML=e.innerHTML.replace(/\&nbsp\;/g,"")}function clearSlashes(){let e=document.querySelectorAll(".dirname");for(let n=0;n<e.length;n++)e[n].innerText=e[n].innerText.replace("/","")}function makeHeader(){let e=elemake("header",`\n        <section class="main">\n            <spread>\n                <span class="menu">\n                    ${menuSVG}\n                </span>\n            </spread>\n        </section>\n        <section class="sub">\n            <spread>\n            </spread>\n        </section>\n    `.replace(/>\s+/g,">").replace(/\s+</g,"<"),"");document.body.insertBefore(e,document.body.children[0]);let n=document.querySelector("header section.sub spread"),s=document.querySelector("header section.main spread"),a=document.querySelector(".directory"),t=document.querySelector(".deviceName");a.innerHTML='<a href="/"><i class="fa fa-home"></i>'+a.innerText.replace("/storage/emulated/0","").replace(/\//g,'</a><i class="fa fa-arrow-right"></i><a class="boxes">'),t.innerHTML="<span>"+t.innerHTML.replace("<br>","</span><span>")+"</span>",s.appendChild(a),n.appendChild(t);let i=s.querySelectorAll("a.boxes"),l="/";for(let e=0;e<i.length-1;e++)l=l+encodeURIComponent(i[e].innerText)+"/",i[e].setAttribute("href",l)}function makeNav(){let e="",n="";"dawn"===sessionStorage.cScheme?e=" active":n=" active",void 0===sessionStorage.folderActive&&(sessionStorage.folderActive=" active",sessionStorage.folderCSS="null"),void 0===sessionStorage.fileActive&&(sessionStorage.fileActive=" active",sessionStorage.fileCSS="null"),void 0===sessionStorage.device&&(/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)?(sessionStorage.device=" mobile",sessionStorage.deviceTxt="Mobile"):(sessionStorage.device=" pc",sessionStorage.deviceTxt="PC")),void 0===sessionStorage.playerChoice&&(sessionStorage.playerChoice=" mark-none",sessionStorage.playerTxt="None");let s=elemake("nav",`\n        <sidebar>\n            <section class="theme">\n                <btn class="dawn${e}">\n                    <i class="fa fa-dawn"></i>\n                </btn>\n                <btn class="dusk${n}">\n                    <i class="fa fa-dusk"></i>\n                </btn>\n            </section>\n            <section class="upload">\n                <gbtn>\n                    <btn class="select-files grow">\n                        <i class="fa fa-upload"></i>\n                        <span>Select File to Upload</span>\n                    </btn>\n                    <btn class="send-files hide" style="--_percent: 0%">\n                        <i class="fa fa-tick"></i>\n                        <i class="fa fa-send"></i>\n                        <i class="fa fa-loading"></i>\n                        <span class="keep-bg"></span>\n                    </btn>\n                </gbtn>\n            </section>\n            <section class="config">\n                <btn class="folder-view${sessionStorage.folderActive}">\n                    <i class="fa fa-folder"></i>\n                    <span>Show Folders</span>\n                    <i class="fa fa-tick"></i>\n                    <style type="${sessionStorage.folderCSS}">\n                        section.directories li:not(.back-link) {display: none !important;}\n                        ul:not(:has(section.directories li.back-link)) {gap: 0 !important;}\n                    </style>\n                </btn>\n                <btn class="file-view${sessionStorage.fileActive}">\n                    <i class="fa fa-file"></i>\n                    <span>Show Files</span>\n                    <i class="fa fa-tick"></i>\n                    <style type="${sessionStorage.fileCSS}">\n                        section.files {display: none !important;}\n                    </style>\n                </btn>\n            </section>\n            <section class="pplayer">\n                <gbtn class="platform${sessionStorage.device} closed">\n                    <btn class="base">\n                        <i class="fa fa-platform"></i>\n                        <span>Platform:</span>\n                        <span class="holder">${sessionStorage.deviceTxt}</span>\n                        <i class="fa fa-arrow-down"></i>\n                    </btn>\n                    <btn class="sel-mobile">\n                        <span>Mobile</span>\n                        <i class="fa fa-tick"></i>\n                    </btn>\n                    <btn class="sel-pc">\n                        <span>PC</span>\n                        <i class="fa fa-tick"></i>\n                    </btn>\n                </gbtn>\n                <gbtn class="player${sessionStorage.device}${sessionStorage.playerChoice} closed">\n                    <btn class="base">\n                        <i class="fa fa-player"></i>\n                        <span>Player:</span>\n                        <span class="holder">${sessionStorage.playerTxt}</span>\n                        <i class="fa fa-arrow-down"></i>\n                    </btn>\n                    <btn class="sel-none">\n                        <span>None</span>\n                        <i class="fa fa-tick"></i>\n                    </btn>\n                    <btn class="sel-potplayer mhide">\n                        <span>PotPlayer</span>\n                        <i class="fa fa-tick"></i>\n                    </btn>\n                    <btn class="sel-vlcplayer">\n                        <span>VLC Player</span>\n                        <i class="fa fa-tick"></i>\n                    </btn>\n                    <btn class="sel-xplayer pchide">\n                        <span>XPlayer</span>\n                        <i class="fa fa-tick"></i>\n                    </btn>\n                    <btn class="sel-mxplayer pchide">\n                        <span>MX Player</span>\n                        <i class="fa fa-tick"></i>\n                    </btn>\n                    <btn class="sel-mxplayerpro pchide">\n                        <span>MX Player Pro</span>\n                        <i class="fa fa-tick"></i>\n                    </btn>\n                </gbtn>\n            </section>\n        </sidebar>\n        <backdrop></backdrop>\n    `.replace(/>\s+/g,">").replace(/\s+</g,"<"),{key:["class"],val:["hide none"]});document.body.insertBefore(s,document.body.children[0])}function makePreview(){let e=elemake("preview",'\n        <btn class="prev-image">\n            <i class="fa fa-arrow-left"></i>\n        </btn>\n        <btn class="next-image">\n            <i class="fa fa-arrow-right"></i>\n        </btn>\n        <img src="" alt="" title="">\n        <curtains></curtains>\n    '.replace(/>\s+/g,">").replace(/\s+</g,"<"),{key:["class"],val:["hide none"]});document.body.appendChild(e)}function makeFooter(){let e=elemake("footer",'\n        <top class="opacity place">\n            <i class="fa fa-arrow-up"></i>\n        </top>\n        <section class="sub">\n            <a href="https://github.com/NaeemBolchhi" target="_blank">\n                <i class="fa fa-github"></i>\n                <span>NaeemBolchhi</span>\n            </a>\n        </section>\n        <section class="main">\n            <a href="https://github.com/NaeemBolchhi/MiX-HTTP-File-Server-Redesigned" target="_blank">\n                <i class="fa fa-mix"></i>\n                <span>MiXiMaX</span>\n            </a>\n            <span>|</span>\n            <a href="https://www.gnu.org/licenses/gpl-3.0-standalone.html" target="_blank">GPL-3.0</a>\n        </section>\n    '.replace(/>\s+/g,">").replace(/\s+</g,"<"),"");document.body.appendChild(e)}function moveContent(){let e=document.querySelector("#content"),n=document.querySelector("nav sidebar section.upload");n.appendChild(e),document.querySelector("#fil").value=""}function backlinkClass(){let e=document.querySelector("section.directories > li .dirname");".."===e.innerText&&e.parentNode.parentNode.classList.add("back-link")}clearStyles(),clearSpaces(),clearSlashes(),makeHeader(),makeNav(),makePreview(),makeFooter(),moveContent(),backlinkClass();